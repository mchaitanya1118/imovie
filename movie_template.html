<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{title}} - StreamVault</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <meta name="description" content="{{description}}">
    <style>
        .hero-backdrop {
            background-image: linear-gradient(to top, #0f172a 10%, transparent 90%),
            url('{{backdrop}}');
        }
    </style>
</head>

<body>
    <div class="background-glow"></div>

    <header class="glass-header">
        <nav>
            <a href="../index.html" class="logo">Stream<span>Vault</span></a>
            <a href="../index.html" class="back-link">← Back to Home</a>
        </nav>
    </header>

    <main class="movie-detail">
        <div class="hero-backdrop"></div>

        <div class="content-wrapper">
            <div class="poster-large">
                <img src="{{poster}}" alt="{{title}}">
            </div>
            <div class="info-panel">
                <div class="tags">
                    <span class="quality-badge">{{quality}}</span>
                    <span class="rating-badge">★ {{rating}}</span>
                    <span class="lang-badge">{{language}}</span>
                </div>
                <h1>{{title}} <span class="year">({{year}})</span></h1>
                <p class="genres">{{genre}}</p>
                <p class="description">{{description}}</p>

                <div class="actions">
                    <a href="{{trailer}}" target="_blank" class="btn-primary"
                        style="text-decoration: none; display: inline-block;">▶ Watch Trailer</a>
                    <button class="btn-secondary">⬇ Download</button>
                </div>
            </div>
        </div>

        <section class="player-section" style="margin-top: 5rem;">
            <iframe src="{{trailer}}" title="Movie Player"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen></iframe>
        </section>
    </main>

    <!-- Video Modal -->
    <div id="videoModal" class="video-modal" data-trailer="{{trailer}}">
        <div class="modal-content">
            <button id="closeModal" class="close-modal">&times;</button>

            <div id="adContainer" class="ad-container">
                <div class="ad-content">
                    <h2>StreamVault Originals</h2>
                    <p>Experience the magic of cinema. Subscribe now for ad-free details.</p>
                </div>
                <div class="ad-timer-wrapper">
                    <span id="skipTimer">Skip in 5</span>
                    <button id="skipAdBtn" class="skip-btn">Skip Ad ⏭</button>
                </div>
            </div>

            <div id="moviePlayer" class="movie-player">
                <iframe id="videoFrame" src="" frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <script src="../assets/js/main.js"></script>
</body>

</html>